[
  {
    "type": "BATCH",
    "name": "etl_menus",
    "inputs": [],
    "outputs": ["public.menus", "public.categories"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_menus.py",
    "namespaceName": "food_delivery",
    "description": "Loads newly added restaurant menus daily.",
    "context": {
      "sql": "INSERT INTO menus (*) VALUES (...);"
    }
  },
  {
    "type": "BATCH",
    "name": "etl_restaurants",
    "inputs": [],
    "outputs": ["public.restaurants"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_restaurants.py",
    "namespaceName": "food_delivery",
    "description": "Loads newly registered restaurants daily.",
    "context": {
      "sql": "INSERT INTO restaurants (id, created_at, updated_at, name, email, address, phone, city_id, business_hours_id, description)\n    SELECT id, created_at, updated_at, name, email, address, phone, city_id, business_hours_id, description\n        FROM tmp_restaurants;"
    }
  },
  {
    "type": "BATCH",
    "name": "etl_orders",
    "inputs": [],
    "outputs": ["public.orders"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_orders.py",
    "namespaceName": "food_delivery",
    "description": "Loads newly placed orders daily.",
    "context": {
      "sql": "INSERT INTO orders (*) VALUES (...);"
    }
  },
  {
    "type": "BATCH",
    "name": "orders_7_days",
    "inputs": ["public.menus", "public.categories", "public.cities", "public.orders"],
    "outputs": ["public.top_orders"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/orders_7_days.py",
    "namespaceName": "food_delivery",
    "description": "Determine weekly top orders by city.",
    "context": {
      "sql": "SELECT * FROM restaurants, cities, orders;"
    }
  },
  {
    "type": "BATCH",
    "name": "etl_customers",
    "inputs": [],
    "outputs": ["public.customers"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_customers.py",
    "namespaceName": "food_delivery",
    "description": "Loads newly registered customers daily.",
    "context": {
      "sql": "INSERT INTO customers (id, created_at, updated_at, name, email, phone, city_id)\n    SELECT id, created_at, updated_at, name, email, phone, city_id\n        FROM tmp_customers;"
    }
  },
  {
    "type": "BATCH",
    "name": "etl_order_status",
    "inputs": [],
    "outputs": ["public.order_status"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_order_status.py",
    "namespaceName": "food_delivery",
    "description": "Loads order statues updates hourly.",
    "context": {
      "sql": "INSERT INTO order_status (*) VALUES (...);"
    }
  },
  {
    "type": "BATCH",
    "name": "etl_drivers",
    "inputs": [],
    "outputs": ["public.drivers"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_drivers.py",
    "namespaceName": "food_delivery",
    "description": "Loads newly registered drivers daily.",
    "context": {
      "sql": "INSERT INTO drivers (*) VALUES (...);"
    }
  },
  {
    "type": "BATCH",
    "name": "etl_delivery_7_days",
    "inputs": ["public.top_orders", "public.customers", "public.order_status", "public.drivers", "public.restaurants"],
    "outputs": ["public.delivery_7_days"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_delivery_7_days.py",
    "namespaceName": "food_delivery",
    "description": "Loads new deliveries for the week.",
    "context": {
      "sql": "INSERT INTO delivery_7_days (*) VALUES (...);"
    }
  },
  {
    "type": "BATCH",
    "name": "delivery_times_7_days",
    "inputs": ["public.delivery_7_days"],
    "outputs": ["public.top_delivery_times", "public.discounts"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/delivery_times_7_days.py",
    "namespaceName": "food_delivery",
    "description": "Determine weekly top delivery times by city.",
    "context": {
      "sql": "SELECT * FROM delivery_7_days;"
    }
  },
  {
    "type": "BATCH",
    "name": "email_discounts",
    "inputs": ["public.discounts"],
    "outputs": [],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/email_discounts.py",
    "namespaceName": "food_delivery",
    "description": "Email discounts to customers that have expereinced order delays.",
    "context": {
      "sql": "SELECT * FROM discounts;"
    }
  },
  {
    "type": "BATCH",
    "name": "orders_popular_day_of_week",
    "inputs": ["public.top_delivery_times", "public.business_hours"],
    "outputs": ["public.popular_orders_day_of_week"],
    "location": "https://github.com/DatakinHQ/datakin/blob/0c6a0d63668afd8227eae92edbca93d6bbc974c1/examples/food-delivery/etl_restaurants.py",
    "namespaceName": "food_delivery",
    "description": "Determines the popular day of week orders are placed.",
    "context": {
      "sql": "SELECT * FROM top_orders, top_delivery_times, popular_orders_day_of_week;"
    }
  }
]
